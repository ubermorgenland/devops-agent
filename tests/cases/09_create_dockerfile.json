{
  "id": "09",
  "name": "create_dockerfile",
  "description": "Create a Dockerfile with environment variable",
  "category": "multi_step",

  "setup": {
    "env_vars": {
      "DOCKER_USER": "admin"
    },
    "files": {}
  },

  "instruction": "Create a Dockerfile based on alpine that echoes the DOCKER_USER environment variable",
  "max_steps": 4,

  "assertions": [
    {
      "type": "tool_called",
      "tool": "get_env",
      "args": {"key": "DOCKER_USER"}
    },
    {
      "type": "tool_called",
      "tool": "write_file",
      "args": {"path": "Dockerfile"}
    },
    {
      "type": "file_exists",
      "path": "Dockerfile"
    },
    {
      "type": "file_content_contains",
      "path": "Dockerfile",
      "values": ["FROM alpine", "CMD echo"],
      "case_sensitive": false
    },
    {
      "type": "completed_successfully"
    }
  ]
}
